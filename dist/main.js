(()=>{"use strict";const e=function(){var e="is-active",t=document.getElementById("project-list");function n(){var e=this;document.getElementById("new-project-btn").addEventListener("click",(function(){return e.openModal("project-modal")})),document.getElementById("new-task-btn").addEventListener("click",(function(){return e.openModal("task-modal")})),document.querySelectorAll("a#modal-close").forEach((function(t){var n=t.parentNode.parentNode.parentNode.parentNode.parentNode;t.addEventListener("click",(function(){return e.closeModal(n.id)}))}))}return{projectForm:document.forms[0],taskForm:document.forms[1],addEventHandlers:function(e){var t=e.projectOnSave;n.call(this),document.getElementById("save-project-btn").addEventListener("click",t.bind(this))},addProject:function(n){var o=function(t){var n=document.createElement("li"),o=document.createElement("a");return o.innerText=t.name,o.addEventListener("click",(function(){var t;null===(t=document.querySelector("#project-list>li>.is-active"))||void 0===t||t.classList.remove(e),o.classList.add(e)})),n.id=t.id,n.appendChild(o),n}(n);t.appendChild(o)},closeModal:function(t){document.getElementById(t).classList.remove(e)},openModal:function(t){document.getElementById(t).classList.add(e)},getFormData:function(e){var t={};return Array.from(e.elements).forEach((function(e){return t[e.name]=e.value})),t},renderInitialProjects:function(n){n.forEach(this.addProject),t.firstChild.firstChild.classList.add(e)}}}();var t,n,o=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id="project-".concat(e.lastId++),this.name=t,this.taskList=[]};(n="lastId")in(t=o)?Object.defineProperty(t,n,{value:0,enumerable:!0,configurable:!0,writable:!0}):t[n]=0;var r=[new o("Default project")];e.renderInitialProjects(r),e.addEventHandlers({projectOnSave:function(){var t=e.projectForm,n=e.getFormData(t).name,a=new o(n);r.push(a),e.addProject(a),t.reset(),e.closeModal("project-modal")}})})();