(()=>{"use strict";const e=(t="is-active",n=function(e){return e.classList.remove(t)},r=function(e){return e.classList.add(t)},c=document.getElementById("project-list"),o=document.forms[0],document.forms[1],{handlers:{},applyEventHandlers:function(){document.getElementById("new-project-btn").addEventListener("click",(function(){return r(document.getElementById("project-modal"))})),document.getElementById("new-task-btn").addEventListener("click",(function(){return r(document.getElementById("task-modal"))})),document.querySelectorAll("button#modal-close").forEach((function(e){var t=e.parentNode.parentNode.parentNode.parentNode.parentNode;e.addEventListener("click",(function(){t.querySelector("form").reset(),n(t)}))})),o.addEventListener("submit",(document.forms[1],function(e){return function(t){t.preventDefault();var r=t.target,c=function(e){var t={};return Array.from(e.elements).forEach((function(e){return t[e.name]=e.value})),t}(r);e(c),r.reset(),n(r.parentNode.parentNode)}})(this.handlers.projectOnSave))},addProject:function(e){var t=this,n=function(e,t){var n=document.createElement("li"),r=document.createElement("a");return r.innerText=e.name,r.id=e.id,r.addEventListener("click",t),n.appendChild(r),n}(e,(function(){return t.selectProject(e)}));c.appendChild(n),this.selectProject(e)},addProjects:function(e){e.forEach(this.addProject.bind(this))},selectProject:function(e){var n;this.handlers.projectOnSelect(e),null===(n=document.querySelector("#project-list>li>.is-active"))||void 0===n||n.classList.remove(t),r(document.getElementById(e.id)),function(e){document.getElementById("project-title").innerText=e.name}(e)}});var t,n,r,c,o,a,d,i=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id="project-".concat(e.lastId++),this.name=t,this.taskList=[]};(d="lastId")in(a=i)?Object.defineProperty(a,d,{value:0,enumerable:!0,configurable:!0,writable:!0}):a[d]=0;var s=[new i("Default project")],l={projectOnSave:function(t){var n=new i(t.name);s.push(n),e.addProject(n)},projectOnSelect:function(e){return e}};e.handlers=l,e.addProjects(s),e.selectProject(s[0]),e.applyEventHandlers()})();