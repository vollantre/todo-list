(()=>{"use strict";const e=(t="is-active",n=document.getElementById("project-list"),r=document.forms[0],document.forms[1],c=function(e){return e.classList.remove(t)},o=function(e){return e.classList.add(t)},a=function(e){return function(t){t.preventDefault();var n=t.target,r=function(e){var t={};return Array.from(e.elements).forEach((function(e){return t[e.name]=e.value})),t}(n);e(r),n.reset(),c(document.querySelector(".modal.is-active"))}},{handlers:{},applyEventHandlers:function(){document.getElementById("new-project-btn").addEventListener("click",(function(){return o(document.getElementById("project-modal"))})),document.getElementById("new-task-btn").addEventListener("click",(function(){return o(document.getElementById("task-modal"))})),document.querySelectorAll("button#modal-close").forEach((function(e){var t=e.parentNode.parentNode.parentNode.parentNode.parentNode;e.addEventListener("click",(function(){t.querySelector("form").reset(),c(t)}))})),r.addEventListener("submit",a(this.handlers.projectOnSave))},addProject:function(e){var t=this,r=function(e,t){var n=document.createElement("li"),r=document.createElement("a");return r.innerText=e.name,r.id=e.id,r.addEventListener("click",t),n.appendChild(r),n}(e,(function(){return t.selectProject(e)}));n.appendChild(r),this.selectProject(e)},addProjects:function(e){e.forEach(this.addProject.bind(this))},selectProject:function(e){var n;this.handlers.projectOnSelect(e),null===(n=document.querySelector("#project-list>li>.is-active"))||void 0===n||n.classList.remove(t),o(document.getElementById(e.id)),function(e){document.getElementById("project-title").innerText=e.name}(e)}});var t,n,r,c,o,a,i,d,l=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id="project-".concat(e.lastId++),this.name=t,this.taskList=[]};(d="lastId")in(i=l)?Object.defineProperty(i,d,{value:0,enumerable:!0,configurable:!0,writable:!0}):i[d]=0;var s=[new l("Default project")],u={projectOnSave:function(t){var n=new l(t.name);s.push(n),e.addProject(n)},projectOnSelect:function(e){return e}};e.handlers=u,e.addProjects(s),e.selectProject(s[0]),e.applyEventHandlers()})();