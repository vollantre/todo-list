(()=>{"use strict";const e=function(){var e="is-active",t=document.getElementById("project-list"),n=document.forms[0],r=(document.forms[1],function(t){return document.getElementById(t).classList.remove(e)}),c=function(t){return document.getElementById(t).classList.add(e)};function o(e){var t=this,n=document.createElement("li"),r=document.createElement("a");return r.innerText=e.name,r.id=e.id,r.addEventListener("click",(function(){t.selectProject(e)})),n.appendChild(r),n}function a(){document.getElementById("new-project-btn").addEventListener("click",(function(){return c("project-modal")})),document.getElementById("new-task-btn").addEventListener("click",(function(){return c("task-modal")})),document.querySelectorAll("button#modal-close").forEach((function(e){var t=e.parentNode.parentNode.parentNode.parentNode.parentNode;e.addEventListener("click",(function(){t.querySelector("form").reset(),r(t.id)}))}))}return{handlers:{},addEventHandlers:function(){var e=this;a.call(this),n.addEventListener("submit",(function(t){t.preventDefault();var n=t.target,c=function(e){var t={};return Array.from(e.elements).forEach((function(e){return t[e.name]=e.value})),t}(n);e.handlers.projectOnSave(c),n.reset(),r("project-modal")}))},addProject:function(e){var n=o.call(this,e);t.appendChild(n),this.selectProject(e)},addProjects:function(e){e.forEach(this.addProject.bind(this))},selectProject:function(t){var n;this.handlers.projectOnSelect(t),null===(n=document.querySelector("#project-list>li>.is-active"))||void 0===n||n.classList.remove(e),c(t.id),function(e){document.getElementById("project-title").innerText=e.name}(t)}}}();var t,n,r=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id="project-".concat(e.lastId++),this.name=t,this.taskList=[]};(n="lastId")in(t=r)?Object.defineProperty(t,n,{value:0,enumerable:!0,configurable:!0,writable:!0}):t[n]=0;var c=[new r("Default project")],o={projectOnSave:function(t){var n=new r(t.name);c.push(n),e.addProject(n)},projectOnSelect:function(e){return e}};e.handlers=o,e.addProjects(c),e.selectProject(c[0]),e.addEventHandlers()})();