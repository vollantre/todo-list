(()=>{"use strict";const e=function(){var e="is-active",t=document.getElementById("project-list");function n(t){var n=this,r=document.createElement("li"),c=document.createElement("a");return c.innerText=t.name,c.id=t.id,c.addEventListener("click",(function(r){var o;null===(o=document.querySelector("#project-list>li>.is-active"))||void 0===o||o.classList.remove(e),n.activeElement(c.id),n.selectProject(t)})),r.appendChild(c),r}function r(){var e=this;document.getElementById("new-project-btn").addEventListener("click",(function(){return e.activeElement("project-modal")})),document.getElementById("new-task-btn").addEventListener("click",(function(){return e.activeElement("task-modal")})),document.querySelectorAll("button#modal-close").forEach((function(t){var n=t.parentNode.parentNode.parentNode.parentNode.parentNode;t.addEventListener("click",(function(){n.querySelector("form").reset(),e.desactiveElement(n.id)}))}))}return{projectForm:document.forms[0],taskForm:document.forms[1],currentProject:null,handlers:{},addEventHandlers:function(){r.call(this),this.projectForm.addEventListener("submit",this.handlers.projectOnSave)},addProject:function(e){var r=n.call(this,e);t.appendChild(r)},desactiveElement:function(t){document.getElementById(t).classList.remove(e)},activeElement:function(t){document.getElementById(t).classList.add(e)},getFormData:function(e){var t={};return Array.from(e.elements).forEach((function(e){return t[e.name]=e.value})),t},addProjects:function(e){e.forEach(this.addProject.bind(this)),this.selectProject(e[0])},renderProjectTasks:function(e){document.getElementById("project-title").innerText=e.name},selectProject:function(e){this.activeElement(e.id),this.renderProjectTasks(e)}}}();var t,n,r=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id="project-".concat(e.lastId++),this.name=t,this.taskList=[]};(n="lastId")in(t=r)?Object.defineProperty(t,n,{value:0,enumerable:!0,configurable:!0,writable:!0}):t[n]=0;var c,o=[new r("Default project")],a={projectOnSave:function(t){t.preventDefault();var n=e.projectForm,c=e.getFormData(n).name,a=new r(c);o.push(a),e.addProject(a),n.reset(),e.desactiveElement("project-modal")}};e.addProjects(o),e.handlers=a,e.addEventHandlers(),c=o[0],e.currentProject=c})();